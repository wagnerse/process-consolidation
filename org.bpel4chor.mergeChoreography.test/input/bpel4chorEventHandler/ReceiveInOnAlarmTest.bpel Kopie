<?xml version="1.0" encoding="UTF-8"?>
<process
    abstractProcessProfile="urn:HPI_IAAS:choreography:profile:2006/12"
    exitOnStandardFault="yes" name="ProcessMerged"
    suppressJoinFailure="yes"
    targetNamespace="http://www.iaas.uni-stuttgart.de"
    xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/abstract"
    xmlns:ns="http://www.w3.org/2001/XMLSchema" xmlns:ns0="http://www.iaas.uni-stuttgart.de">
    <import importType="http://schemas.xmlsoap.org/wsdl/"
        location="P2ASP30.wsdl" namespace="http://www.iaas.uni-stuttgart.de"/>
    <import importType="http://schemas.xmlsoap.org/wsdl/"
        location="P1ASP30.wsdl" namespace="http://www.iaas.uni-stuttgart.de"/>
    <flow name="MergedFlow">
        <scope name="CH_SurScope_c6f9cf2b-69dd-49ac-a530-7f964c988b7d">
            <variables>
                <variable
                    name="isScopeCompleted_5546e04a-6ceb-4118-8569-494b754531c3" type="ns:boolean">
                    <from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[false()]]></from>
                </variable>
            </variables>
            <sequence>
                <assign validate="no">
                    <copy>
                        <from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[false()]]></from>
                        <to variable="isScopeCompleted_5546e04a-6ceb-4118-8569-494b754531c3"/>
                    </copy>
                </assign>
                <flow>
                    <scope exitOnStandardFault="yes"
                        name="Scope_P2ASP30" suppressJoinFailure="yes">
                        <variables>
                            <variable
                                messageType="ns0:P2ASP30RequestMessage" name="input"/>
                            <variable
                                messageType="ns0:P2ASP30ResponseMessage" name="output"/>
                            <variable
                                messageType="ns0:P12P2ASP30RequestMessage" name="varRec1"/>
                        </variables>
                        <partnerLinks>
                            <partnerLink initializePartnerRole="no"
                                myRole="P2ASP30Provider" name="client"
                                partnerLinkType="ns0:P2ASP30" partnerRole="P2ASP30Requester"/>
                        </partnerLinks>
                        <faultHandlers>
                            <catchAll>
                                <compensate/>
                            </catchAll>
                        </faultHandlers>
                        <flow name="main">
                            <links>
                                <link name="link1"/>
                                <link name="link4"/>
                                <link name="link2"/>
                                <link name="link3"/>
                            </links>
                            <receive createInstance="yes"
                                name="receiveInputP2ASP30" variable="input">
                                <sources>
                                    <source linkName="link1"/>
                                </sources>
                            </receive>
                            <invoke inputVariable="output" name="callbackClientP2ASP30">
                                <targets>
                                    <target linkName="link4"/>
                                </targets>
                            </invoke>
                            <empty name="Empty1">
                                <targets>
                                    <target linkName="link1"/>
                                </targets>
                                <sources>
                                    <source linkName="link2"/>
                                </sources>
                            </empty>
                            <empty name="Empty2">
                                <targets>
                                    <target linkName="link2"/>
                                    <target linkName="link3"/>
                                </targets>
                                <sources>
                                    <source linkName="link4"/>
                                </sources>
                            </empty>
                            <empty name="Empty3">
                                <sources>
                                    <source linkName="link3"/>
                                </sources>
                            </empty>
                            <scope exitOnStandardFault="no"
                                isolated="no" name="Scope">
                                <sequence>
                                    <assign validate="no">
                                    <copy>
                                    <from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[true()]]></from>
                                    <to variable="isScopeCompleted_5546e04a-6ceb-4118-8569-494b754531c3"/>
                                    </copy>
                                    </assign>
                                    <empty name="Receive1P2ASP30"/>
                                </sequence>
                            </scope>
                        </flow>
                    </scope>
                    <flow name="CH_SurFlow_e58c1725-95f8-44c1-a9d7-2fec53d54b8e">
                        <links/>
                        <flow>
                            <scope name="Scope_174278c2-b8ca-4f2c-9293-83fdc23e0382">
                                <if>
                                    <condition expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[$isScopeCompleted_5546e04a-6ceb-4118-8569-494b754531c3]]></condition>
                                    <empty/>
                                </if>
                            </scope>
                        </flow>
                    </flow>
                </flow>
            </sequence>
        </scope>
        <scope name="CH_SurScope_63953de7-ec6f-49cc-924a-35062b223460">
            <variables>
                <variable
                    name="isScopeCompleted_db3d573b-b9b6-4faf-9b0f-1d4f4c16eb38" type="ns:boolean">
                    <from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[false()]]></from>
                </variable>
                <variable
                    name="isScopeCompleted_b1dd72a5-fc4b-4ea9-8604-d82c62ae233f" type="ns:boolean">
                    <from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[false()]]></from>
                </variable>
            </variables>
            <sequence>
                <assign validate="no">
                    <copy>
                        <from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[false()]]></from>
                        <to variable="isScopeCompleted_db3d573b-b9b6-4faf-9b0f-1d4f4c16eb38"/>
                    </copy>
                    <copy>
                        <from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[false()]]></from>
                        <to variable="isScopeCompleted_b1dd72a5-fc4b-4ea9-8604-d82c62ae233f"/>
                    </copy>
                </assign>
                <flow>
                    <scope exitOnStandardFault="yes"
                        name="Scope_P1ASP30" suppressJoinFailure="yes">
                        <variables>
                            <variable
                                messageType="ns0:P1ASP30RequestMessage" name="input"/>
                            <variable
                                messageType="ns0:P1ASP30ResponseMessage" name="output"/>
                            <variable
                                messageType="ns0:P12P2ASP30RequestMessage" name="varInv1"/>
                        </variables>
                        <partnerLinks>
                            <partnerLink initializePartnerRole="no"
                                myRole="P1ASP30Provider" name="client"
                                partnerLinkType="ns0:P1ASP30" partnerRole="P1ASP30Requester"/>
                        </partnerLinks>
                        <faultHandlers>
                            <catchAll>
                                <compensate/>
                            </catchAll>
                        </faultHandlers>
                        <flow name="main">
                            <links>
                                <link name="link1"/>
                                <link name="link4"/>
                                <link name="link5"/>
                                <link name="link2"/>
                                <link name="link3"/>
                                <link name="link7"/>
                                <link name="link8"/>
                            </links>
                            <wait name=" Wait33s">
                                <sources>
                                    <source linkName="link8"/>
                                </sources>
                                <for><![CDATA[P33S]]></for>
                            </wait>
                            <empty name="Invoke1P1ASP30">
                                <targets>
                                    <target linkName="link2"/>
                                    <target linkName="link3"/>
                                </targets>
                                <sources>
                                    <source linkName="link7"/>
                                </sources>
                            </empty>
                            <receive createInstance="yes"
                                name="receiveInputP1ASP30" variable="input">
                                <targets>
                                    <target linkName="link8"/>
                                </targets>
                                <sources>
                                    <source linkName="link1"/>
                                </sources>
                            </receive>
                            <invoke inputVariable="output" name="callbackClientP1ASP30">
                                <targets>
                                    <target linkName="link4"/>
                                </targets>
                            </invoke>
                            <empty name="Empty1">
                                <targets>
                                    <target linkName="link1"/>
                                </targets>
                                <sources>
                                    <source linkName="link2"/>
                                </sources>
                            </empty>
                            <empty name="Empty2">
                                <targets>
                                    <target linkName="link5"/>
                                </targets>
                                <sources>
                                    <source linkName="link4"/>
                                </sources>
                            </empty>
                            <scope exitOnStandardFault="no"
                                isolated="no" name="Scope">
                                <targets>
                                    <target linkName="link7"/>
                                </targets>
                                <sources>
                                    <source linkName="link5"/>
                                </sources>
                                <sequence>
                                    <assign validate="no">
                                    <copy>
                                    <from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[true()]]></from>
                                    <to variable="isScopeCompleted_b1dd72a5-fc4b-4ea9-8604-d82c62ae233f"/>
                                    </copy>
                                    </assign>
                                    <sequence>
                                    <flow name="Flow">
                                    <links>
                                    <link name="link6"/>
                                    </links>
                                    <empty name="Empty3">
                                    <sources>
                                    <source linkName="link6"/>
                                    </sources>
                                    </empty>
                                    <scope
                                    exitOnStandardFault="no"
                                    isolated="no" name="Scope1">
                                    <targets>
                                    <target linkName="link6"/>
                                    </targets>
                                    <sequence>
                                    <assign validate="no">
                                    <copy>
                                    <from expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[true()]]></from>
                                    <to variable="isScopeCompleted_db3d573b-b9b6-4faf-9b0f-1d4f4c16eb38"/>
                                    </copy>
                                    </assign>
                                    <empty name="Empty4"/>
                                    </sequence>
                                    </scope>
                                    </flow>
                                    </sequence>
                                </sequence>
                            </scope>
                            <empty name="Empty6">
                                <sources>
                                    <source linkName="link3"/>
                                </sources>
                            </empty>
                        </flow>
                    </scope>
                    <flow name="CH_SurFlow_7921af1d-7476-47b5-9356-fd57c4966bce">
                        <links>
                            <link name="CH_link_5702816a-3c06-4000-a56a-5f8b978ef591"/>
                        </links>
                        <flow>
                            <scope name="Scope_ef01ede4-c929-4c68-84cb-8f16693d5085">
                                <targets>
                                    <target linkName="CH_link_5702816a-3c06-4000-a56a-5f8b978ef591"/>
                                </targets>
                                <if>
                                    <condition expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[$isScopeCompleted_b1dd72a5-fc4b-4ea9-8604-d82c62ae233f]]></condition>
                                    <empty/>
                                </if>
                            </scope>
                            <flow>
                                <sources>
                                    <source linkName="CH_link_5702816a-3c06-4000-a56a-5f8b978ef591"/>
                                </sources>
                                <scope name="Scope1_238a4afe-5558-42e2-a59c-d385698b1842">
                                    <if>
                                    <condition expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[$isScopeCompleted_db3d573b-b9b6-4faf-9b0f-1d4f4c16eb38]]></condition>
                                    <empty/>
                                    </if>
                                </scope>
                            </flow>
                        </flow>
                    </flow>
                </flow>
            </sequence>
        </scope>
    </flow>
</process>
